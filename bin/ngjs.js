#!/usr/bin/env node  
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function mkdirP(r,t,e,i){"function"==typeof t?(e=t,t={}):t&&"object"==typeof t||(t={mode:t});var o=t.mode,a=t.fs||fs;void 0===o&&(o=_0777&~process.umask()),i||(i=null);var c=e||function(){};r=path.resolve(r),a.mkdir(r,o,function(e){if(!e)return i=i||r,c(null,i);switch(e.code){case"ENOENT":mkdirP(path.dirname(r),t,function(e,i){e?c(e,i):mkdirP(r,t,c,i)});break;default:a.stat(r,function(r,t){r||!t.isDirectory()?c(e,i):c(null,i)})}})}var path=require("path"),fs=require("fs"),_0777=parseInt("0777",8);module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function r(t,e,i){e&&"object"==typeof e||(e={mode:e});var o=e.mode,a=e.fs||fs;void 0===o&&(o=_0777&~process.umask()),i||(i=null),t=path.resolve(t);try{a.mkdirSync(t,o),i=i||t}catch(o){switch(o.code){case"ENOENT":i=r(path.dirname(t),e,i),r(t,e,i);break;default:var c;try{c=a.statSync(t)}catch(r){throw o}if(!c.isDirectory())throw o}}return i};
},{"fs":"fs","path":"path"}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var argument_service_1=require("./argument.service"),error_codes_1=require("./errors/error-codes"),new_command_executor_1=require("./commands/new-command/new-command.executor"),available_commands_1=require("./commands/available-commands"),_=require("lodash"),generate_command_executor_1=require("./commands/generate-command/generate-command.executor"),init_command_executor_1=require("./commands/init-command/init-command.executor"),logger_1=require("./tools/logger"),AngularjsCli=function(){function e(r){this.allowExecution=!1,this.config=null;var o="[32m-----------------------[0m\n";o+="[32m "+e.NAME+" - "+e.VERSION+" [0m\n",o+="[32m-----------------------[0m\n",logger_1.Logger.print(o),this.cliArguments=r,this.options=argument_service_1.ArgumentService.parseOptions(JSON.parse(JSON.stringify(r))),this.command=argument_service_1.ArgumentService.parseCommand(JSON.parse(JSON.stringify(r)))}return e.prototype.getCommandName=function(){return this.command.getName()},e.prototype.getCommand=function(){return this.command},e.prototype.readConfig=function(){try{this.config=require(process.cwd()+"/ngjs.json")}catch(e){}},e.prototype.prepare=function(){var e=this.isCommandValid();e===error_codes_1.ErrorCodes.COMMAND_MISSING_COMMAND&&(logger_1.Logger.print("[31mMissing command[0m. Available commands are:"),_.forEach(available_commands_1.AvailableCommands,function(e){logger_1.Logger.print(" "+e.getName())})),e===error_codes_1.ErrorCodes.COMMAND_MISSING_ARGUMENT&&logger_1.Logger.print("[31mMissing argument on command "+this.getCommandName()+" [0m"),e===error_codes_1.ErrorCodes.COMMAND_INVALID_OPTIONS&&(logger_1.Logger.print("[31mInvalid options on command "+this.getCommandName()+"[0m. Valid options are:"),_.forEach(this.getCommand().getAvailableOptions(),function(e){logger_1.Logger.print(" "+(e.getShortName()?"-"+e.getShortName():"")+"    --"+e.getLongName())})),e===error_codes_1.ErrorCodes.OK&&(this.allowExecution=!0)},e.prototype.process=function(){if(this.allowExecution)switch(this.command.getName()){case"init":var e=new init_command_executor_1.InitCommandExecutor(this.command,this.config,this.options);e.execute();break;case"new":var e=new new_command_executor_1.NewCommandExecutor(this.command,this.config,this.options);e.execute();break;case"generate":var e=new generate_command_executor_1.GenerateCommandExecutor(this.command,this.config,this.options);e.execute()}},e.prototype.finish=function(){},e.prototype.isCommandValid=function(){var e=this;if(null===this.command)return error_codes_1.ErrorCodes.COMMAND_MISSING_COMMAND;if(this.command.needsArgument()&&""===this.command.getArgument())return error_codes_1.ErrorCodes.COMMAND_MISSING_ARGUMENT;if(Object.keys(this.options).length>0){var r=!1;if(_.forEach(this.options,function(o){e.command.getAvailableOptions()[o.getLongName()]||(r=!0)}),r)return error_codes_1.ErrorCodes.COMMAND_INVALID_OPTIONS}return error_codes_1.ErrorCodes.OK},e.VERSION="1.0.0",e.NAME="AngularJS CLI",e}();exports.AngularjsCli=AngularjsCli;
},{"./argument.service":3,"./commands/available-commands":4,"./commands/generate-command/generate-command.executor":7,"./commands/init-command/init-command.executor":9,"./commands/new-command/new-command.executor":11,"./errors/error-codes":13,"./tools/logger":20,"lodash":"lodash"}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var available_options_1=require("./options/available-options"),available_commands_1=require("./commands/available-commands"),_=require("lodash"),ArgumentService=function(){function a(){}return a.parseOptions=function(a){var e=a.splice(2),n={};return _.forEach(e,function(a){available_options_1.AvailableOptions.hasOwnProperty(a)&&(n[available_options_1.AvailableOptions[a].getLongName()]=available_options_1.AvailableOptions[a])}),n},a.parseCommand=function(a){var e=a.splice(2),n=null;return 0===e.length?n:(available_commands_1.AvailableCommands.hasOwnProperty(e[0])&&(n=available_commands_1.AvailableCommands[e[0]]),n&&void 0!==e[1]&&-1===e[1].indexOf("-")&&n.setArgument(e[1]),n)},a}();exports.ArgumentService=ArgumentService;
},{"./commands/available-commands":4,"./options/available-options":15,"lodash":"lodash"}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var new_command_1=require("./new-command/new-command"),generate_command_1=require("./generate-command/generate-command"),init_command_1=require("./init-command/init-command"),newCommand=new new_command_1.NewCommand,generateCommand=new generate_command_1.GenerateCommand,initCommand=new init_command_1.InitCommand;exports.AvailableCommands=(_a={},_a[initCommand.getName()]=initCommand,_a[newCommand.getName()]=newCommand,_a[generateCommand.getName()]=generateCommand,_a);var _a;
},{"./generate-command/generate-command":8,"./init-command/init-command":10,"./new-command/new-command":12}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Command=function(){function t(){this.name="",this.argument="",this.configNeeded=!1,this.argumentNeeded=!1,this.availableArguments=[],this.availableOptions={}}return t.prototype.getName=function(){return this.name},t.prototype.needsArgument=function(){return this.argumentNeeded},t.prototype.needsConfig=function(){return this.configNeeded},t.prototype.setArgument=function(t){this.argument=t},t.prototype.getArgument=function(){return this.argument},t.prototype.getAvailableArguments=function(){return this.availableArguments},t.prototype.getAvailableOptions=function(){return this.availableOptions},t}();exports.Command=Command;
},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("lodash"),angularjs_cli_1=require("../angularjs-cli"),logger_1=require("../tools/logger"),Executor=function(){function e(e,n,o){this.command=e,this.config=n,this.options=o}return e.prototype.isConfigValid=function(){return!(!this.command.needsConfig()||null===this.config)||(logger_1.Logger.print("[31mInvalid or no config[0m. This command needs a valid config to proceed."),logger_1.Logger.print("If you have not created a "+angularjs_cli_1.AngularjsCli.NAME+" project yet, do so by typing 'ngjs new project-name'"),logger_1.Logger.print("You can also create a config in an existing project with 'ngjs init'"),!1)},e.prototype.isArgumentValid=function(){return-1!==this.command.getAvailableArguments().indexOf(this.command.getArgument())||0===this.command.getAvailableArguments().length||(logger_1.Logger.print("[31mInvalid argument on command "+this.command.getName()+"[0m. Valid arguments are:"),_.forEach(this.command.getAvailableArguments(),function(e){logger_1.Logger.print(" "+e)}),!1)},e}();exports.Executor=Executor;
},{"../angularjs-cli":2,"../tools/logger":20,"lodash":"lodash"}],7:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var executor_1=require("../executor"),logger_1=require("../../tools/logger"),GenerateCommandExecutor=function(e){function t(t,r,o){return e.call(this,t,r,o)||this}return __extends(t,e),t.prototype.execute=function(){this.isConfigValid()&&this.isArgumentValid()&&logger_1.Logger.log("[36mGenerating new "+this.command.getArgument()+" in '"+process.cwd()+"'[0m")},t}(executor_1.Executor);exports.GenerateCommandExecutor=GenerateCommandExecutor;
},{"../../tools/logger":20,"../executor":6}],8:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var command_1=require("../command"),GenerateCommand=function(e){function t(){var t=e.call(this)||this;return t.name="generate",t.configNeeded=!0,t.argumentNeeded=!0,t.availableArguments=["component","module"],t}return __extends(t,e),t}(command_1.Command);exports.GenerateCommand=GenerateCommand;
},{"../command":5}],9:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])};return function(r,o){function t(){this.constructor=r}e(r,o),r.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var executor_1=require("../executor"),fs=require("fs"),path=require("path"),folder_1=require("../../operations/folder"),logger_1=require("../../tools/logger"),InitCommandExecutor=function(e){function r(r,o,t){return e.call(this,r,o,t)||this}return __extends(r,e),r.prototype.execute=function(){if(null!==this.config)return logger_1.Logger.print("[36mProject already initialised[0m"),!0;this.options.verbose&&(logger_1.Logger.verbose=!0),logger_1.Logger.log("[36mInitialising project... [0m");var e=require("prompt-sync")({sigint:!0}),r=require("complete"),o=e("What is the name of your app? (default: app): ","app"),t=e("In which dialect should the project be created? [es2015/ts] (default: es2015): ",{autocomplete:r(["es2015","ts"]),value:"es2015"}),n=e("What is your source folder? (default: src): ","src");logger_1.Logger.log("\n[32mDone[0m");var i={appName:o,targetDialect:t,sourceFolder:n};fs.writeFile(path.join(process.cwd(),"ngjs.json"),JSON.stringify(i,null,2),function(e){if(e)return logger_1.Logger.print("\n[31mAn error occured while creating ngjs.json[0m "),void logger_1.Logger.log("\n[31m"+e+"[0m ");logger_1.Logger.log("\n[36mngjs.json with the following content was created in "+process.cwd()+":[0m "),logger_1.Logger.log(JSON.stringify(i,null,2)),new folder_1.Folder(i).generateCompleteFolderStructure()})},r}(executor_1.Executor);exports.InitCommandExecutor=InitCommandExecutor;
},{"../../operations/folder":14,"../../tools/logger":20,"../executor":6,"complete":"complete","fs":"fs","path":"path","prompt-sync":"prompt-sync"}],10:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var command_1=require("../command"),verbose_option_1=require("../../options/verbose.option"),InitCommand=function(t){function o(){var o=t.call(this)||this;o.name="init";var e=new verbose_option_1.VerboseOption;return o.availableOptions=(n={},n[e.getLongName()]=e,n),o;var n}return __extends(o,t),o}(command_1.Command);exports.InitCommand=InitCommand;
},{"../../options/verbose.option":18,"../command":5}],11:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angularjs_cli_1=require("../../angularjs-cli"),executor_1=require("../executor"),path=require("path"),logger_1=require("../../tools/logger"),NewCommandExecutor=function(e){function t(t,r,o){return e.call(this,t,r,o)||this}return __extends(t,e),t.prototype.execute=function(){if(this.isConfigValid())return void logger_1.Logger.print("[31mCan not create an "+angularjs_cli_1.AngularjsCli.NAME+" project in an existing one[0m");this.isArgumentValid()&&logger_1.Logger.print("[36mCreating new "+angularjs_cli_1.AngularjsCli.NAME+" project in '"+path.join(process.cwd(),this.command.getArgument())+"[0m'")},t}(executor_1.Executor);exports.NewCommandExecutor=NewCommandExecutor;
},{"../../angularjs-cli":2,"../../tools/logger":20,"../executor":6,"path":"path"}],12:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])};return function(n,o){function t(){this.constructor=n}e(n,o),n.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var command_1=require("../command"),version_option_1=require("../../options/version.option"),NewCommand=function(e){function n(){var n=e.call(this)||this;n.name="new",n.argumentNeeded=!0;var o=new version_option_1.VersionOption;return n.availableOptions=(t={},t[o.getLongName()]=o,t),n;var t}return __extends(n,e),n}(command_1.Command);exports.NewCommand=NewCommand;
},{"../../options/version.option":19,"../command":5}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ErrorCodes=function(){function r(){}return r.OK=0,r.COMMAND_MISSING_COMMAND=1e4,r.COMMAND_MISSING_ARGUMENT=10001,r.COMMAND_INVALID_OPTIONS=10002,r.CONFIG_MISSING=2e4,r}();exports.ErrorCodes=ErrorCodes;
},{}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var mkdirp=require("mkdirp"),path=require("path"),logger_1=require("../tools/logger"),Folder=function(){function r(r){this.config=r}return r.prototype.generateCompleteFolderStructure=function(){logger_1.Logger.log("\n[36mGenerating folder structure... [0m"),this.generateSrcFolder()},r.prototype.generateSrcFolder=function(){var r=this,e=path.join(process.cwd(),this.config.sourceFolder,this.config.appName),o=path.join(process.cwd(),this.config.sourceFolder,"assets","scss"),t=path.join(process.cwd(),this.config.sourceFolder,"assets","images"),i=path.join(process.cwd(),"test",this.config.appName);mkdirp(e,function(o){r.errorCallback(e,o)}),mkdirp(o,function(e){r.errorCallback(o,e)}),mkdirp(t,function(e){r.errorCallback(t,e)}),mkdirp(i,function(e){r.errorCallback(i,e)})},r.prototype.errorCallback=function(r,e){if(e)return logger_1.Logger.print("[31mFailed to create directory "+r+"[0m"),void logger_1.Logger.log("\n[31m"+e+"[0m ");logger_1.Logger.log(" - source folder created at "+r)},r}();exports.Folder=Folder;
},{"../tools/logger":20,"mkdirp":1,"path":"path"}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var version_option_1=require("./version.option"),module_option_1=require("./module.option"),verbose_option_1=require("./verbose.option"),versionOption=new version_option_1.VersionOption,moduleOption=new module_option_1.ModuleOption,verboseOption=new verbose_option_1.VerboseOption;exports.AvailableOptions=(_a={},_a["-"+versionOption.getShortName()]=versionOption,_a["--"+versionOption.getLongName()]=versionOption,_a["-"+moduleOption.getShortName()]=moduleOption,_a["--"+moduleOption.getLongName()]=moduleOption,_a["--"+verboseOption.getLongName()]=verboseOption,_a);var _a;
},{"./module.option":16,"./verbose.option":18,"./version.option":19}],16:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var option_1=require("./option"),ModuleOption=function(t){function e(){var e=t.call(this)||this;return e.shortName="m",e.longName="module",e.argument="",e.argumentNeeded=!0,e}return __extends(e,t),e}(option_1.Option);exports.ModuleOption=ModuleOption;
},{"./option":17}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Option=function(){function t(){this.shortName="",this.longName="",this.argument="",this.argumentNeeded=!1,this.availableArguments=[]}return t.prototype.getShortName=function(){return this.shortName},t.prototype.getLongName=function(){return this.longName},t.prototype.needsArgument=function(){return this.argumentNeeded},t.prototype.getAvailableArguments=function(){return this.availableArguments},t.prototype.setArgument=function(t){this.argument=t},t.prototype.getArgument=function(){return this.argument},t}();exports.Option=Option;
},{}],18:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var option_1=require("./option"),VerboseOption=function(t){function e(){var e=t.call(this)||this;return e.longName="verbose",e.argument="",e}return __extends(e,t),e}(option_1.Option);exports.VerboseOption=VerboseOption;
},{"./option":17}],19:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var option_1=require("./option"),VersionOption=function(t){function o(){var o=t.call(this)||this;return o.shortName="v",o.longName="version",o.argument="",o}return __extends(o,t),o}(option_1.Option);exports.VersionOption=VersionOption;
},{"./option":17}],20:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Logger=function(){function o(){}return o.print=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];console.log.apply(console,o)},o.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o.verbose&&console.log.apply(console,e)},o.verbose=!1,o}();exports.Logger=Logger;
},{}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angularjs_cli_1=require("./angularjs-cli/angularjs-cli"),ngjs=new angularjs_cli_1.AngularjsCli(process.argv);ngjs.readConfig(),ngjs.prepare(),ngjs.process(),ngjs.finish();
},{"./angularjs-cli/angularjs-cli":2}]},{},[21]);
